<!DOCTYPE html>
<!-- cse6242 s21 -->

<!-- run: http-server & -->

<head>

  <style>
    <!-- define CSS rules -->
/* AXES */
/* ticks */
.axis line{
  stroke: #706f6f;
  stroke-width: 0.5;
  shape-rendering: crispEdges;
}

/* axis contour */
.axis path {
  stroke: #706f6f;
  stroke-width: 0.7;
  shape-rendering: crispEdges;
}

/* axis text */
.axis text {
  fill: #2b2929;
  font-family: Sans-serif;
  font-size: 90%;
}


.serie_label {
  fill: #2b2929;
  font-family: Sans-serif;
  font-size: 80%;
}

  </style>

<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"><head>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor msdt:dt="string">Hull, Matthew D</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor>
<mso:xd_Signature msdt:dt="string"></mso:xd_Signature>
<mso:Order msdt:dt="string">35500.0000000000</mso:Order>
<mso:ComplianceAssetId msdt:dt="string"></mso:ComplianceAssetId>
<mso:TemplateUrl msdt:dt="string"></mso:TemplateUrl>
<mso:xd_ProgID msdt:dt="string"></mso:xd_ProgID>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author msdt:dt="string">Hull, Matthew D</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author>
<mso:ContentTypeId msdt:dt="string">0x010100D48F87729E805A4096AD64C4E51DACBE</mso:ContentTypeId>
<mso:_SourceUrl msdt:dt="string"></mso:_SourceUrl>
<mso:_SharedFileIndex msdt:dt="string"></mso:_SharedFileIndex>
</mso:CustomDocumentProperties>
</xml><![endif]-->

  <script type="text/javascript" src="../lib/d3.v5.min.js"></script>
  <script type="text/javascript" src="../lib/d3-dsv.min.js"></script>

<title>"Number of Ratings 2016-2020"</title>

</head>



<body>

  <script src="lib/d3-tip.min.js"></script>
  <script src="lib/d3-dsv.min.js"></script>
  <script src="lib/d3-legend.min.js"></script>
  <script src="lib/d3-geo-projection.v2.min.js"></script>
  <script src="lib/topojson.v2.min.js"></script>
  <script type="text/javascript" src="../lib/d3.v5.min.js"></script>
  <div id="container" class="svg-container"></div>

  <script>

// ----------------------------------------------Define --------------------------------
// --------------set up margin----------------------
const margin = {top: 50, right: 150, bottom: 50, left: 100}
  , width = window.innerWidth - margin.left - margin.right // Use the window's width 
  , height = window.innerHeight - margin.top - margin.bottom; // Use the window's height




//----------------------------------------------Chart 1--------------------------------------------------
(function chart1(){
// ---------------appending SVG-------------------
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


// ---------------import data----------------------

var timeConv = d3.timeParse("%Y-%m-%d");
var timeformatting = d3.timeFormat("%Y,%m,%d");

var pathToCsv = "boardgame_ratings.csv";
d3.dsv(",", pathToCsv, function (d) {
      return {
		'date': timeConv(d.date),
		'Catan': +d["Catan=count"], 
		'Dominion': +d["Dominion=count"],
		'Codenames': +d["Codenames=count"],
		'Terraforming Mars': +d["Terraforming Mars=count"],
		'Gloomhaven': +d["Gloomhaven=count"],
		'Magic: The Gathering': +d["Magic: The Gathering=count"],
		'Dixit': +d["Dixit=count"],
		'Monopoly': +d["Monopoly=count"],
		'Catan rank': +d["Catan=rank"],
		'Dominion rank': +d["Dominion=rank"],
		'Codenames rank': +d["Codenames=rank"],
		'Terraforming Mars rank': +d["Terraforming Mars=rank"],
		'Gloomhaven rank': +d["Gloomhaven=rank"],
		'Magic: The Gathering rank': +d["Magic: The Gathering=rank"],
		'Dixit rank': +d["Dixit=rank"],
		'Monopoly rank': +d["Monopoly=rank"]

      }
    }).then(function (data){
      console.log(data);

var colname = ['Catan','Dominion','Codenames','Terraforming Mars','Gloomhaven','Magic: The Gathering','Dixit','Monopoly'];

// -------------------Scaling-------------------------
var xScale = d3.scaleTime().range([0,width]);
var yScale = d3.scaleLinear().rangeRound([height, 0]);

xScale.domain([new Date(2016,10,01), new Date(2020,08,01)]);
yScale.domain([(0), (d3.max(data, function(d) {return d.Catan;})+1000)]);


// -----------------set up axis-----------------------
var yaxis = d3.axisLeft()
    .scale(yScale);

var xaxis = d3.axisBottom()
	.ticks(d3.timeMonth, 3)
	.tickFormat(d3.timeFormat('%b-%y'))
	.scale(xScale);

// --------------------Lines---------------------------
//const lines = []
//for (i = 0; i < colname.length; i++){
//	lines[i] = d3.line()
//		.x(function(d) { return xScale(d.date); })
//		.y(function(d) { return yScale(d.colname[i]);})
//		.curve(d3.curveMonotoneX)
//}

var l = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Catan);})
		.curve(d3.curveMonotoneX)

var l1 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dominion);})
		.curve(d3.curveMonotoneX)

var l2 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Codenames);})
		.curve(d3.curveMonotoneX)

var l3 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Terraforming Mars']);})
		.curve(d3.curveMonotoneX)

var l4 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Gloomhaven);})
		.curve(d3.curveMonotoneX)

var l5 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Magic: The Gathering']);})
		.curve(d3.curveMonotoneX)

var l6 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dixit);})
		.curve(d3.curveMonotoneX)

var l7 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Monopoly);})
		.curve(d3.curveMonotoneX)

// --------------------color----------------------------
var color = d3.scaleOrdinal()
    .domain(colname)
    .range([d3.schemeCategory10[0],d3.schemeCategory10[1],d3.schemeCategory10[2],
	d3.schemeCategory10[3],d3.schemeCategory10[4],d3.schemeCategory10[5],
	d3.schemeCategory10[6],d3.schemeCategory10[7]]);


// ----------------------------------------------------- Drawing ----------------------------------
// ---------------axis----------------
var x_axis = svg.append("g")
		.attr("class", "axis")
		.attr("transform", "translate(0," + height + ")")
		.call(xaxis)

    svg.append("text")
		.text("Month")
		.style("font", "12px times")
    		.attr("transform", "translate("+ (width/2-50) +"," + (height + 40) + ") ");

svg.append("g")
    .attr("class", "axis")
    .call(yaxis)
    .append("text")
    .attr("transform", "rotate(-90)")
    .attr("dy", ".75em")
    .attr("y", -50)
    .attr("x",0 - (height / 2))
    .style("text-anchor", "end")
    .text("Number of Ratings");

//-----------------draw path------------------------
	var L = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Catan'))
		.style("stroke-width", 1.5)
		.attr("d", l(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Catan;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Catan'))
		.text("Catan");

	var L1 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dominion'))
		.style("stroke-width", 1.5)
		.attr("d", l1(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dominion;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dominion'))
		.text("Dominion");

	var L2 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Codenames'))
		.style("stroke-width", 1.5)
		.attr("d", l2(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Codenames;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Codenames'))
		.text("Codenames");

	var L3 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Terraforming Mars'))
		.style("stroke-width", 1.5)
		.attr("d", l3(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Terraforming Mars'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Terraforming Mars'))
		.text("Terraforming Mars");

	var L4 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Gloomhaven'))
		.style("stroke-width", 1.5)
		.attr("d", l4(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Gloomhaven;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Gloomhaven'))
		.text("Gloomhaven");

	var L5 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Magic: The Gathering'))
		.style("stroke-width", 1.5)
		.attr("d", l5(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Magic: The Gathering'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Magic: The Gathering'))
		.text("Magic: The Gathering");

	var L6 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dixit'))
		.style("stroke-width", 1.5)
		.attr("d", l6(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dixit;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dixit'))
		.text("Dixit");

	var L7 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Monopoly'))
		.style("stroke-width", 1.5)
		.attr("d", l7(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Monopoly;})) + 3 ) + ")" ;})
		.attr("x", 5)
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Monopoly'))
		.text("Monopoly");


//-------------add title--------------------
	svg.append("text")
		.attr("id", "title")
		.attr("x", (width/2))             
        	.attr("y", -20)
        	.attr("text-anchor", "middle")  
        	.style("font-size", "20px") 
		.attr("font-weight",function(d,i) {return i*300+900;})
        	.text("Number of Ratings 2016-2020");


    }).catch(function (error) {
      console.log(error);
    });
}());






// ----------------------------------------------Chart 2----------------------------------------------
(function chart2(){
    // ---------------appending SVG-------------------
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


// ---------------import data----------------------

var timeConv = d3.timeParse("%Y-%m-%d");
var timeformatting = d3.timeFormat("%Y,%m,%d");

var pathToCsv = "boardgame_ratings.csv";
d3.dsv(",", pathToCsv, function (d) {
      return {
		'date': timeConv(d.date),
		'Catan': +d["Catan=count"], 
		'Dominion': +d["Dominion=count"],
		'Codenames': +d["Codenames=count"],
		'Terraforming Mars': +d["Terraforming Mars=count"],
		'Gloomhaven': +d["Gloomhaven=count"],
		'Magic: The Gathering': +d["Magic: The Gathering=count"],
		'Dixit': +d["Dixit=count"],
		'Monopoly': +d["Monopoly=count"],
		'Catan rank': +d["Catan=rank"],
		'Dominion rank': +d["Dominion=rank"],
		'Codenames rank': +d["Codenames=rank"],
		'Terraforming Mars rank': +d["Terraforming Mars=rank"],
		'Gloomhaven rank': +d["Gloomhaven=rank"],
		'Magic: The Gathering rank': +d["Magic: The Gathering=rank"],
		'Dixit rank': +d["Dixit=rank"],
		'Monopoly rank': +d["Monopoly=rank"]

      }
    }).then(function (data){
      console.log(data);

var colname = ['Catan','Dominion','Codenames','Terraforming Mars','Gloomhaven','Magic: The Gathering','Dixit','Monopoly'];

// -------------------Scaling-------------------------
var xScale = d3.scaleTime().range([0,width-1]);
var yScale = d3.scaleLinear().rangeRound([height, 0]);

xScale.domain([new Date(2016,10,01), new Date(2020,08,01)]);
yScale.domain([(0), (d3.max(data, function(d) {return d.Catan;})+1000)]);


// -----------------set up axis-----------------------
var yaxis = d3.axisLeft()
    .scale(yScale);

var xaxis = d3.axisBottom()
	.ticks(d3.timeMonth, 3)
	.tickFormat(d3.timeFormat('%b-%y'))
	.scale(xScale);

// --------------------Lines---------------------------
//const lines = []
//for (i = 0; i < colname.length; i++){
//	lines[i] = d3.line()
//		.x(function(d) { return xScale(d.date); })
//		.y(function(d) { return yScale(d.colname[i]);})
//		.curve(d3.curveMonotoneX)
//}

var l = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Catan);})
		.curve(d3.curveMonotoneX)

var l1 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dominion);})
		.curve(d3.curveMonotoneX)

var l2 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Codenames);})
		.curve(d3.curveMonotoneX)

var l3 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Terraforming Mars']);})
		.curve(d3.curveMonotoneX)

var l4 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Gloomhaven);})
		.curve(d3.curveMonotoneX)

var l5 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Magic: The Gathering']);})
		.curve(d3.curveMonotoneX)

var l6 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dixit);})
		.curve(d3.curveMonotoneX)

var l7 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Monopoly);})
		.curve(d3.curveMonotoneX)

// --------------------color----------------------------
var color = d3.scaleOrdinal()
    .domain(colname)
    .range([d3.schemeCategory10[0],d3.schemeCategory10[1],d3.schemeCategory10[2],
	d3.schemeCategory10[3],d3.schemeCategory10[4],d3.schemeCategory10[5],
	d3.schemeCategory10[6],d3.schemeCategory10[7]]);


// ----------------------------------------------------- Drawing ----------------------------------
// ---------------axis----------------
var x_axis = svg.append("g")
		.attr("class", "axis")
		.attr("transform", "translate(0," + height + ")")
		.call(xaxis)

    svg.append("text")
		.text("Month")
		.style("font", "12px times")
    		.attr("transform", "translate("+ (width/2-50) +"," + (height + 40) + ") ");

svg.append("g")
    .attr("class", "axis")
    .call(yaxis)
    .append("text")
    .attr("transform", "rotate(-90)")
    .attr("dy", ".75em")
    .attr("y", -50)
    .attr("x",0 - (height / 2))
    .style("text-anchor", "end")
    .text("Number of Ratings");

//-----------------draw path------------------------
	svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Catan'))
		.style("stroke-width", 1.5)
		.attr("d", l(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Catan;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Catan'))
		.text("Catan");

	var L1 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dominion'))
		.style("stroke-width", 1.5)
		.attr("d", l1(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dominion;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dominion'))
		.text("Dominion");

	var L2 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Codenames'))
		.style("stroke-width", 1.5)
		.attr("d", l2(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Codenames;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Codenames'))
		.text("Codenames");

	var L3 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Terraforming Mars'))
		.style("stroke-width", 1.5)
		.attr("d", l3(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Terraforming Mars'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Terraforming Mars'))
		.text("Terraforming Mars");

	var L4 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Gloomhaven'))
		.style("stroke-width", 1.5)
		.attr("d", l4(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Gloomhaven;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Gloomhaven'))
		.text("Gloomhaven");

	var L5 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Magic: The Gathering'))
		.style("stroke-width", 1.5)
		.attr("d", l5(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Magic: The Gathering'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Magic: The Gathering'))
		.text("Magic: The Gathering");

	var L6 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dixit'))
		.style("stroke-width", 1.5)
		.attr("d", l6(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dixit;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dixit'))
		.text("Dixit");

	var L7 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Monopoly'))
		.style("stroke-width", 1.5)
		.attr("d", l7(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Monopoly;})) + 3 ) + ")" ;})
		.attr("x", 5)
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Monopoly'))
		.text("Monopoly");


// -------------Draw Dot & text--------------------
	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Catan')) 

	svg.selectAll(".dodo")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dodo")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Catan rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Codenames')) 

	svg.selectAll(".do")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "do")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Codenames rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Terraforming Mars')) 

	svg.selectAll(".dos")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dos")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Terraforming Mars rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Gloomhaven')) 

	svg.selectAll(".doss")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "doss")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Gloomhaven rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");

//-------------add legend--------------------
	svg.append("circle")
		.attr("cx", width+50 )
		.attr("cy", height-5 )
		.attr("r", 15)
		.style("fill", "black") 


	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height-5) + ")")
        	.style("font-size", "10px")  
		.style("fill", "white")
        	.text("rank");

	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height + 20) + ")")
        	.style("font-size", "10px")  
		.style("color", "black")
        	.text("BoardGameGeek Rank");



//-------------add title--------------------
	svg.append("text")
		.attr("id", "title")
		.attr("x", (width/2))             
        	.attr("y", -20)
        	.attr("text-anchor", "middle")  
        	.style("font-size", "20px") 
		.attr("font-weight",function(d,i) {return i*300+900;})
        	.text("Number of Ratings 2016-2020 with Rankings");

    }).catch(function (error) {
      console.log(error);
    });



}());




// ----------------------------------------------Chart 3----------------------------------------------
(function chart3(){
    // ---------------appending SVG-------------------
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


// ---------------import data----------------------

var timeConv = d3.timeParse("%Y-%m-%d");
var timeformatting = d3.timeFormat("%Y,%m,%d");

var pathToCsv = "boardgame_ratings.csv";
d3.dsv(",", pathToCsv, function (d) {
      return {
		'date': timeConv(d.date),
		'Catan': +d["Catan=count"], 
		'Dominion': +d["Dominion=count"],
		'Codenames': +d["Codenames=count"],
		'Terraforming Mars': +d["Terraforming Mars=count"],
		'Gloomhaven': +d["Gloomhaven=count"],
		'Magic: The Gathering': +d["Magic: The Gathering=count"],
		'Dixit': +d["Dixit=count"],
		'Monopoly': +d["Monopoly=count"],
		'Catan rank': +d["Catan=rank"],
		'Dominion rank': +d["Dominion=rank"],
		'Codenames rank': +d["Codenames=rank"],
		'Terraforming Mars rank': +d["Terraforming Mars=rank"],
		'Gloomhaven rank': +d["Gloomhaven=rank"],
		'Magic: The Gathering rank': +d["Magic: The Gathering=rank"],
		'Dixit rank': +d["Dixit=rank"],
		'Monopoly rank': +d["Monopoly=rank"]

      }
    }).then(function (data){
      console.log(data);

var colname = ['Catan','Dominion','Codenames','Terraforming Mars','Gloomhaven','Magic: The Gathering','Dixit','Monopoly'];

// -------------------Scaling-------------------------
var xScale = d3.scaleTime().range([0,width-1]);
var yScale = d3.scaleSqrt().rangeRound([height, 0]);

xScale.domain([new Date(2016,10,01), new Date(2020,08,01)]);
yScale.domain([(0), (d3.max(data, function(d) {return d.Catan;})+1000)]);


// -----------------set up axis-----------------------
var yaxis = d3.axisLeft()
    .scale(yScale);

var xaxis = d3.axisBottom()
	.ticks(d3.timeMonth, 3)
	.tickFormat(d3.timeFormat('%b-%y'))
	.scale(xScale);

// --------------------Lines---------------------------
//const lines = []
//for (i = 0; i < colname.length; i++){
//	lines[i] = d3.line()
//		.x(function(d) { return xScale(d.date); })
//		.y(function(d) { return yScale(d.colname[i]);})
//		.curve(d3.curveMonotoneX)
//}

var l = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Catan);})
		.curve(d3.curveMonotoneX)

var l1 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dominion);})
		.curve(d3.curveMonotoneX)

var l2 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Codenames);})
		.curve(d3.curveMonotoneX)

var l3 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Terraforming Mars']);})
		.curve(d3.curveMonotoneX)

var l4 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Gloomhaven);})
		.curve(d3.curveMonotoneX)

var l5 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Magic: The Gathering']);})
		.curve(d3.curveMonotoneX)

var l6 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dixit);})
		.curve(d3.curveMonotoneX)

var l7 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Monopoly);})
		.curve(d3.curveMonotoneX)

// --------------------color----------------------------
var color = d3.scaleOrdinal()
    .domain(colname)
    .range([d3.schemeCategory10[0],d3.schemeCategory10[1],d3.schemeCategory10[2],
	d3.schemeCategory10[3],d3.schemeCategory10[4],d3.schemeCategory10[5],
	d3.schemeCategory10[6],d3.schemeCategory10[7]]);


// ----------------------------------------------------- Drawing ----------------------------------
// ---------------axis----------------
var x_axis = svg.append("g")
		.attr("class", "axis")
		.attr("transform", "translate(0," + height + ")")
		.call(xaxis)

    svg.append("text")
		.text("Month")
		.style("font", "12px times")
    		.attr("transform", "translate("+ (width/2-50) +"," + (height + 40) + ") ");

svg.append("g")
    .attr("class", "axis")
    .call(yaxis)
    .append("text")
    .attr("transform", "rotate(-90)")
    .attr("dy", ".75em")
    .attr("y", -50)
    .attr("x",0 - (height / 2))
    .style("text-anchor", "end")
    .text("Number of Ratings");

//-----------------draw path------------------------
	svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Catan'))
		.style("stroke-width", 1.5)
		.attr("d", l(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Catan;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Catan'))
		.text("Catan");

	var L1 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dominion'))
		.style("stroke-width", 1.5)
		.attr("d", l1(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dominion;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dominion'))
		.text("Dominion");

	var L2 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Codenames'))
		.style("stroke-width", 1.5)
		.attr("d", l2(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Codenames;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Codenames'))
		.text("Codenames");

	var L3 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Terraforming Mars'))
		.style("stroke-width", 1.5)
		.attr("d", l3(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Terraforming Mars'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Terraforming Mars'))
		.text("Terraforming Mars");

	var L4 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Gloomhaven'))
		.style("stroke-width", 1.5)
		.attr("d", l4(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Gloomhaven;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Gloomhaven'))
		.text("Gloomhaven");

	var L5 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Magic: The Gathering'))
		.style("stroke-width", 1.5)
		.attr("d", l5(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Magic: The Gathering'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Magic: The Gathering'))
		.text("Magic: The Gathering");

	var L6 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dixit'))
		.style("stroke-width", 1.5)
		.attr("d", l6(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dixit;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dixit'))
		.text("Dixit");

	var L7 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Monopoly'))
		.style("stroke-width", 1.5)
		.attr("d", l7(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Monopoly;})) + 3 ) + ")" ;})
		.attr("x", 5)
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Monopoly'))
		.text("Monopoly");


// -------------Draw Dot & text--------------------
	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Catan')) 

	svg.selectAll(".dodo")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dodo")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Catan rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Codenames')) 

	svg.selectAll(".do")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "do")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Codenames rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Terraforming Mars')) 

	svg.selectAll(".dos")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dos")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Terraforming Mars rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Gloomhaven')) 

	svg.selectAll(".doss")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "doss")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Gloomhaven rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");

//-------------add legend--------------------
	svg.append("circle")
		.attr("cx", width+50 )
		.attr("cy", height-5 )
		.attr("r", 15)
		.style("fill", "black") 


	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height-5) + ")")
        	.style("font-size", "10px")  
		.style("fill", "white")
        	.text("rank");

	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height + 20) + ")")
        	.style("font-size", "10px")  
		.style("color", "black")
        	.text("BoardGameGeek Rank");



//-------------add title--------------------
	svg.append("text")
		.attr("id", "title")
		.attr("x", (width/2))             
        	.attr("y", -20)
        	.attr("text-anchor", "middle")  
        	.style("font-size", "20px") 
		.attr("font-weight",function(d,i) {return i*300+900;})
        	.text("Number of Ratings 2016-2020 (Square root Scale)");


    }).catch(function (error) {
      console.log(error);
    });



}());




// ----------------------------------------------Chart 4----------------------------------------------
(function chart4(){
    // ---------------appending SVG-------------------
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


// ---------------import data----------------------

var timeConv = d3.timeParse("%Y-%m-%d");
var timeformatting = d3.timeFormat("%Y,%m,%d");

var pathToCsv = "boardgame_ratings.csv";
d3.dsv(",", pathToCsv, function (d) {
      return {
		'date': timeConv(d.date),
		'Catan': +d["Catan=count"], 
		'Dominion': +d["Dominion=count"],
		'Codenames': +d["Codenames=count"],
		'Terraforming Mars': +d["Terraforming Mars=count"],
		'Gloomhaven': +d["Gloomhaven=count"],
		'Magic: The Gathering': +d["Magic: The Gathering=count"],
		'Dixit': +d["Dixit=count"],
		'Monopoly': +d["Monopoly=count"],
		'Catan rank': +d["Catan=rank"],
		'Dominion rank': +d["Dominion=rank"],
		'Codenames rank': +d["Codenames=rank"],
		'Terraforming Mars rank': +d["Terraforming Mars=rank"],
		'Gloomhaven rank': +d["Gloomhaven=rank"],
		'Magic: The Gathering rank': +d["Magic: The Gathering=rank"],
		'Dixit rank': +d["Dixit=rank"],
		'Monopoly rank': +d["Monopoly=rank"]

      }
    }).then(function (data){
      console.log(data);

var colname = ['Catan','Dominion','Codenames','Terraforming Mars','Gloomhaven','Magic: The Gathering','Dixit','Monopoly'];

// -------------------Scaling-------------------------
var xScale = d3.scaleTime().range([0,width-1]);
var yScale = d3.scaleLog().rangeRound([height, 1]);

xScale.domain([new Date(2016,10,01), new Date(2020,08,01)]);
yScale.domain([0.000001, (d3.max(data, function(d) {return d.Catan;})+1000)]);


// -----------------set up axis-----------------------
var yaxis = d3.axisLeft()
    .scale(yScale);

var xaxis = d3.axisBottom()
	.ticks(d3.timeMonth, 3)
	.tickFormat(d3.timeFormat('%b-%y'))
	.scale(xScale);

// --------------------Lines---------------------------
var l = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Catan);})
		.curve(d3.curveMonotoneX)

var l1 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dominion);})
		.curve(d3.curveMonotoneX)

var l2 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Codenames);})
		.curve(d3.curveMonotoneX)

var l3 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Terraforming Mars']);})
		.curve(d3.curveMonotoneX)

var l4 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Gloomhaven);})
		.curve(d3.curveMonotoneX)

var l5 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d['Magic: The Gathering']);})
		.curve(d3.curveMonotoneX)

var l6 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Dixit);})
		.curve(d3.curveMonotoneX)

var l7 = d3.line()
            .x(function(d) { return xScale(d.date); })
		.y(function(d) { return yScale(d.Monopoly);})
		.curve(d3.curveMonotoneX)

// --------------------color----------------------------
var color = d3.scaleOrdinal()
    .domain(colname)
    .range([d3.schemeCategory10[0],d3.schemeCategory10[1],d3.schemeCategory10[2],
	d3.schemeCategory10[3],d3.schemeCategory10[4],d3.schemeCategory10[5],
	d3.schemeCategory10[6],d3.schemeCategory10[7]]);


// ----------------------------------------------------- Drawing ----------------------------------
// ---------------axis----------------
var x_axis = svg.append("g")
		.attr("class", "axis")
		.attr("transform", "translate(0," + height + ")")
		.call(xaxis)

    svg.append("text")
		.text("Month")
		.style("font", "12px times")
    		.attr("transform", "translate("+ (width/2-50) +"," + (height + 40) + ") ");

svg.append("g")
    .attr("class", "axis")
    .call(yaxis)
    .append("text")
    .attr("transform", "rotate(-90)")
    .attr("dy", ".75em")
    .attr("y", -50)
    .attr("x",0 - (height / 2))
    .style("text-anchor", "end")
    .text("Number of Ratings");

//-----------------draw path------------------------
	svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Catan'))
		.style("stroke-width", 1.5)
		.attr("d", l(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Catan;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Catan'))
		.text("Catan");

	var L1 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dominion'))
		.style("stroke-width", 1.5)
		.attr("d", l1(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dominion;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dominion'))
		.text("Dominion");

	var L2 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Codenames'))
		.style("stroke-width", 1.5)
		.attr("d", l2(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Codenames;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Codenames'))
		.text("Codenames");

	var L3 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Terraforming Mars'))
		.style("stroke-width", 1.5)
		.attr("d", l3(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Terraforming Mars'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Terraforming Mars'))
		.text("Terraforming Mars");

	var L4 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Gloomhaven'))
		.style("stroke-width", 1.5)
		.attr("d", l4(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Gloomhaven;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Gloomhaven'))
		.text("Gloomhaven");

	var L5 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Magic: The Gathering'))
		.style("stroke-width", 1.5)
		.attr("d", l5(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c['Magic: The Gathering'];})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Magic: The Gathering'))
		.text("Magic: The Gathering");

	var L6 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Dixit'))
		.style("stroke-width", 1.5)
		.attr("d", l6(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Dixit;})) + 3 ) + ")" ;})
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Dixit'))
		.text("Dixit");

	var L7 = svg.append("path")
		.style("fill", "none")
		.style("stroke", color('Monopoly'))
		.style("stroke-width", 1.5)
		.attr("d", l7(data))

	svg.append("text")
		.attr("transform", function(d) {
           	 return "translate(" + (xScale(new Date(2020,08,01)) + 1) + "," + (yScale(d3.max(data, function(c) {return c.Monopoly;})) + 3 ) + ")" ;})
		.attr("x", 5)
		.attr("text-anchor", "start")  
        	.style("font-size", "10px")  
		.style("fill", color('Monopoly'))
		.text("Monopoly");


// -------------Draw Dot & text--------------------
	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Catan')) 

	svg.selectAll(".dodo")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dodo")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Catan) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Catan rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Codenames')) 

	svg.selectAll(".do")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "do")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Codenames) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Codenames rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Terraforming Mars')) 

	svg.selectAll(".dos")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "dos")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d['Terraforming Mars']) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Terraforming Mars rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");



	svg.selectAll(".dot")
		.data(data)
		.enter()
		.append("circle")
		.attr("cx", function(d) { return xScale(d.date) })
		.attr("cy", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .attr("r", 10)
		   .style("fill", color('Gloomhaven')) 

	svg.selectAll(".doss")
                .data(data)
		.enter()
		.append("text")
		.attr("class", "doss")
		.attr("x", function(d) { return xScale(d.date) })
		.attr("y", function(d) { return yScale(d.Gloomhaven) })
		.filter(function(d,i){return (i+1)%3==0})
		   .text(function(d){return d['Gloomhaven rank']})
		   .style("text-anchor", "middle")
        	   .style("font-size", "10px")  
		   .style("fill", "white");

//-------------add legend--------------------
	svg.append("circle")
		.attr("cx", width+50 )
		.attr("cy", height-5 )
		.attr("r", 15)
		.style("fill", "black") 


	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height-5) + ")")
        	.style("font-size", "10px")  
		.style("fill", "white")
        	.text("rank");

	svg.append("text")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate(" + (width+50) + "," + (height + 20) + ")")
        	.style("font-size", "10px")  
		.style("color", "black")
        	.text("BoardGameGeek Rank");



//-------------add title--------------------
	svg.append("text")
		.attr("id", "title")
		.attr("x", (width/2))             
        	.attr("y", -20)
        	.attr("text-anchor", "middle")  
        	.style("font-size", "20px") 
		.attr("font-weight",function(d,i) {return i*300+900;})
        	.text("Number of Ratings 2016-2020 (Log Scale)");


//-------------add user name---------------------------
	svg.append("text")
		.attr("id", "credit")
		.attr("text-anchor", "middle")  
		.attr("transform", "translate("+ (width-50) +"," + (height + 40) + ") ") 
        	.style("font-size", "10px")  
		.style("color", "light grey")
        	.text("fyan40");


    }).catch(function (error) {
      console.log(error);
    });



}())



  </script>

</body>
